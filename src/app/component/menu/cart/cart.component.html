<app-header></app-header>
<app-breadcrumb></app-breadcrumb>
<div class="row main">
  <div class="cart-container">
    <h2 class="cart-title">Cart</h2>
    <div class="cart-main">
      <div class="cart-details">
        <div class="cart-items" *ngIf="cartItems.length > 0">
          <div class="cart-item card p-4 bg-dark text-light" *ngFor="let item of cartItems; let i = index">
            <div class="item-header">
              <h3 class="item-name">{{ item.dish_id }}</h3>
              <span class="item-price">{{
                item.price | currency : "INR"
                }}</span>
            </div>
            <div class="item-options">
              <p *ngIf="item.options?.notes">
                <span>Note</span> {{ item.options.notes }}
              </p>
              <p *ngIf="item.options?.selectedOptions?.length > 0">
                <span>Selected Option</span>
              </p>
            </div>
            <div class="item-actions card-footer d-flex justify-content-between align-items-center">
              <button (click)="removeItem(i)" class="delete-btn">
                <i class="ri-delete-bin-line text-danger"></i>
              </button>
              <div class="quantity-control">
                <button (click)="decreaseQuantity(i)" class="quantity-btn">
                  -
                </button>
                <span>{{ item.quantity }}</span>
                <button (click)="increaseQuantity(i)" class="quantity-btn">
                  +
                </button>
              </div>
            </div>
          </div>
        </div>
        <div *ngIf="cartItems.length === 0" class="empty-cart-message">
          Your cart is currently empty.
        </div>
        <div class="notes-section">
          <label for="notes">Note</label>
          <textarea id="notes" [(ngModel)]="notes" rows="4"></textarea>
        </div>
        <div class="price-summary">
          <div class="summary-row">
            <span>Sub total</span>
            <span>{{ totalPrice | currency : "INR" }}</span>
          </div>
          <div class="summary-row total">
            <span>Total</span>
            <span>{{ totalPrice | currency : "INR" }}</span>
          </div>
        </div>
        <button class="checkout-btn" (click)="checkout()" [disabled]="cartItems.length === 0">
          Checkout
        </button>
      </div>
      <div class="store-info-card">
        <div class="card p-4 bg-dark text-light">
          <h3 class="store-name">Pizza Boyz Store</h3>
          <div class="store-tags">
            <span class="tag tag-online">Call Orders</span>
            <span class="tag tag-standard">Standard</span>
          </div>
          <div class="store-schedule">
            <p>Delivery 20 min | Collection 15 min</p>
          </div>
          <div class="store-status">
            <span class="status-indicator"></span>
            <span class="status-text">open now</span>
          </div>
          <p class="store-address">
            5/182 West Coast Road, Glen Eden, Auckland 0602
          </p>
          <div class="store-contact">
            <span class="phone-number">09 600 1116</span>
            <button class="phone-btn">
              <i class="ri-phone-line"></i>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<app-footer></app-footer>